{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/constants.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/Confirm.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","logo","className","href","src","alt","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","_id","owner","type","onClick","link","name","cn","like__btn_active","likes","some","item","title","reduce","res","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","Footer","Date","getFullYear","ImagePopup","isOpen","onClose","evt","target","currentTarget","propsPopupWithAddForm","submitStates","static","loading","propsPopupWithEditForm","propsPopupWithEditAvatarForm","propsPopupWithConfirmForm","PopupWithFormContext","PopupWithForm","isLoad","validators","onSubmit","children","defaultValues","useState","formValues","setFormValues","showErrors","setShowErrors","formErrors","setFormErrors","isInvalid","setIsInvalid","useEffect","allErrors","Object","keys","key","valueByKey","errors","entries","errorKey","validatorFn","acc","fileKey","keyErrors","valid","formContextValue","onChangeInput","value","prevValues","popup_opened","data-name","preventDefault","noValidate","Provider","popup__btn__disabled","disabled","Field","errorClassName","props","onChange","e","Error","find","errorMessage","message","required","minLength","EditProfilePopup","isLoading","onUpdateUser","values","placeholder","maxLength","isUrl","test","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","apiObject","baseUrl","headers","this","_baseUrl","_headers","relativePath","method","body","options","fetch","response","json","description","ok","Promise","reject","status","_getProxy","_handleResponse","JSON","stringify","id","like","authorization","Confirm","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmOpen","setIsConfirmOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","getCardList","then","data","catch","error","console","log","finally","getUserData","closeAllPopups","onKeyDown","importedLogo","isLiked","toggleCardLike","newCard","newCards","addCard","setUserData","setAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cdc54c06.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.ff16f24b.svg\";","import React from \"react\";\n\nexport default function Header({ logo }) {\n  return (\n    <header className=\"header\">\n      <a href=\"#0\">\n        <img src={logo} alt=\"Логотип страницы Место.\" className=\"header__logo\" />\n      </a>\n    </header>\n  );\n}\n","import { createContext } from 'react';\r\n\r\nexport const CurrentUserContext = createContext();\r\n","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport React, { useContext } from \"react\";\r\nimport cn from \"classnames\";\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const handleClick = () => {\r\n    onCardClick(card);\r\n  };\r\n\r\n  const handleClickLike = () => {\r\n    onCardLike(card);\r\n  };\r\n\r\n  const handleClickDelete = () => {\r\n    onCardDelete(card);\r\n  };\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      {currentUser._id === card.owner._id && (\r\n        <button className=\"card__btn card__btn_action_trush\" type=\"button\" onClick={handleClickDelete}/>\r\n      )}\r\n\r\n      <img src={card.link} alt={card.name} className=\"card__image\" onClick={handleClick}/>\r\n      <div className=\"card__footer\">\r\n        <h3 className=\"card__caption\">{card.name}</h3>\r\n        <div className=\"like card__like\">\r\n          <button\r\n            className={cn(\r\n              \"like__btn\",\r\n              { like__btn_active: card.likes.some((item) => item._id === currentUser._id) },\r\n            )}\r\n            onClick={handleClickLike}\r\n            type=\"button\"\r\n          />\r\n          <p className=\"like__count\" title={card.likes.reduce((res, item) => res += `${item.name}\\n`, \"\")}>\r\n            {card.likes.length}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  cards,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__btn profile__btn_action_edit-avatar\" onClick={onEditAvatar}>\r\n          <img src={currentUser.avatar} alt=\"Аватар.\" className=\"profile__avatar\"/>\r\n          <span className=\"profile__avatar-overlay\"/>\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button className=\"profile__btn profile__btn_action_edit\" type=\"button\" onClick={onEditProfile}/>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__btn profile__btn_action_add\" type=\"button\" onClick={onAddPlace}/>\r\n      </section>\r\n      <section>\r\n        <ul className=\"cards\">\r\n          {cards.map((item) => {\r\n            return (\r\n              <Card\r\n                card={item}\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n                key={item._id}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">@ {new Date().getFullYear()} Попов Алексей</p>\n    </footer>\n  );\n}\n","import React from \"react\";\n\nexport default function ImagePopup({ card, isOpen, onClose }) {\n\n  const handleClickOnBackground = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={`popup popup_type_show ${isOpen ? \"popup_opened\" : \"\"}`} onClick={handleClickOnBackground}>\n      <div className=\"popup__container popup__container_type_show\">\n        <button className=\"popup__btn popup__btn_action_close\" type=\"button\" onClick={onClose}/>\n        <img src={card.link} alt={card.name} className=\"popup__image\"/>\n        <h3 className=\"popup__caption\">{card.name}</h3>\n      </div>\n    </div>\n  );\n}\n","export const propsPopupWithAddForm = {\n  title: 'Новое место',\n  name: 'add',\n  submitStates: {\n    static: 'Создать',\n    loading: 'Создание...',\n  },\n};\nexport const propsPopupWithEditForm = {\n  title: 'Редактировать профиль',\n  name: 'edit',\n  submitStates: {\n    static: 'Сохранить',\n    loading: 'Сохранение...',\n  },\n};\nexport const propsPopupWithEditAvatarForm = {\n  title: 'Обновить аватар',\n  name: 'edit-avatar',\n  submitStates: {\n    static: 'Сохранить',\n    loading: 'Сохранение...',\n  },\n};\nexport const propsPopupWithConfirmForm = {\n  title: 'Вы уверены?',\n  name: 'confirm',\n  submitStates: {\n    static: 'Да',\n    loading: 'Удаление...',\n  },\n};\n\nexport const validationSettings = {\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__btn_action_submit',\n  inactiveButtonClass: 'popup__btn__disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error_visible',\n};\n\nexport const apiSettings = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: 'fcd9a632-5cad-436c-b58e-4c80d498006a',\n    'Content-Type': 'application/json',\n  },\n};\n","import cn from \"classnames\";\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nconst PopupWithFormContext = createContext({});\r\n\r\nexport default function PopupWithForm({\r\n  title,\r\n  name,\r\n  isOpen,\r\n  isLoad,\r\n  submitStates,\r\n  validators,\r\n  onClose,\r\n  onSubmit,\r\n  children,\r\n  defaultValues,\r\n}) {\r\n\r\n  //Стейт всех значений формы\r\n  const [formValues, setFormValues] = useState({});\r\n  //Стейт отображения ошибок\r\n  const [showErrors, setShowErrors] = useState({});\r\n  //Стейт всех ошибок формы\r\n  const [formErrors, setFormErrors] = useState({});\r\n  //Создаем общий стейт для формы для включения/отключения submit\r\n  const [isInvalid, setIsInvalid] = useState(true);\r\n\r\n  //Устанавливаем значения формы в зависимости от дефолтного\r\n  //Так как дефолтные значения могут прийти после отрисовки с сервера, подключаем эффект на их изменение\r\n  useEffect(() => {\r\n    setFormValues(defaultValues);\r\n  }, [defaultValues]);\r\n\r\n  useEffect(() => {\r\n    if(!isOpen){\r\n      //Обнуляем стейт отображения ошибок\r\n      setShowErrors({});\r\n      //Устанавливаем дефолтные значения\r\n      setFormValues(defaultValues);\r\n    }\r\n  }, [isOpen])\r\n\r\n  //Обработчик изменения любого инпута\r\n  const onChangeInput = (name, value) => {\r\n    //Обновляем стейт всех значений формы\r\n    setFormValues((prevValues) => ({ ...prevValues, [name]: value }));\r\n    //Добавляем эффект возникновения ошибки для пустых полей только после того, как пользователь уже вводил значения\r\n    if (value !== defaultValues[name]) {\r\n      setShowErrors((prevValues) => ({ ...prevValues, [name]: true }));\r\n    }\r\n  };\r\n\r\n  //Обработчик submit\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    //Обнуляем стейт отображения ошибок\r\n    setShowErrors({});\r\n    onSubmit(formValues);\r\n  };\r\n\r\n  const handleClickOnBackground = (evt) => {\r\n    if (evt.target === evt.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  //Вызываем валидацию на каждый ввод в форму\r\n  useEffect(() => {\r\n    //Получаем все ключи\r\n    const formKeys = Object.keys(formValues);\r\n\r\n    //Проверяем валидацию всех значений формы\r\n    const allErrors = formKeys\r\n      .map((key) => {\r\n        const valueByKey = formValues[key];\r\n        if (!validators[key]) {\r\n          return {};\r\n        }\r\n        const errors = Object.entries(validators[key])\r\n          .map(([errorKey, validatorFn]) => {\r\n            return { [errorKey]: validatorFn(valueByKey) };\r\n          })\r\n          .reduce((acc, item) => ({ ...acc, ...item }), {});\r\n        return { [key]: errors };\r\n      })\r\n      .reduce((acc, item) => ({ ...acc, ...item }), {});\r\n\r\n    //Устанавливаем стейт всех ошибок формы\r\n    setFormErrors(allErrors);\r\n  }, [formValues, validators]);\r\n\r\n  //Определение общей валидности формы\r\n  useEffect(() => {\r\n    for (const fileKey in formErrors) {\r\n      const keyErrors = formErrors[fileKey];\r\n      for (const errorKey in keyErrors) {\r\n        if (keyErrors[errorKey].valid === false) {\r\n          return setIsInvalid(true);\r\n        }\r\n      }\r\n    }\r\n    setIsInvalid(false);\r\n  }, [formErrors]);\r\n\r\n  //Заполняем контекст формы\r\n  const formContextValue = { onChangeInput, isInvalid, formErrors, showErrors, formValues };\r\n\r\n  return (\r\n    <div className={cn(`popup popup_type_${name}`, { popup_opened: isOpen })}\r\n         data-name={name}\r\n         onClick={handleClickOnBackground}\r\n    >\r\n      <form\r\n        className=\"popup__container popup__container_type_form\"\r\n        name=\"container\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <button\r\n          className=\"popup__btn popup__btn_action_close\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        />\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <PopupWithFormContext.Provider value={formContextValue}>{children}</PopupWithFormContext.Provider>\r\n        <button\r\n          className={cn(\"popup__btn\", \"popup__btn_action_submit\", {\r\n            popup__btn__disabled: isInvalid,\r\n          })}\r\n          type=\"submit\"\r\n          disabled={isInvalid}\r\n        >\r\n          {!isLoad ? submitStates.static : submitStates.loading}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n//Компонент поля формы\r\nexport function Field({ name, className = \"\", errorClassName = \"\", ...props }) {\r\n  //Получаем значения контекста формы\r\n  const { onChangeInput, formValues, formErrors, showErrors } = useContext(PopupWithFormContext);\r\n\r\n  //Обработчик изменения инпута\r\n  const handleChangeInput = (e) => {\r\n    onChangeInput(name, e.target.value);\r\n  };\r\n\r\n  //Проверяем наличие ошибок по полю\r\n  const isInvalid = !!formErrors[name] &&\r\n    Object.keys(formErrors[name]).some((key) => formErrors[name][key].valid === false);\r\n\r\n  return (\r\n    <input name={name}\r\n           value={!formValues[name] ? \"\" : formValues[name]}\r\n           className={\r\n             cn(className, {\r\n               [errorClassName]: isInvalid && showErrors[name],\r\n             })\r\n           }\r\n           onChange={handleChangeInput}\r\n           {...props}/>\r\n  );\r\n}\r\n\r\n//Компонент ошибки формы\r\nexport function Error({ name, className = \"\", errorClassName = \"\", ...props }) {\r\n  //Получаем значения контекста формы\r\n  const { formErrors, showErrors } = useContext(PopupWithFormContext);\r\n\r\n  //Определяем ключ ошибки\r\n  const errorKey = (!!formErrors[name] ?\r\n                    Object.keys(formErrors[name]).find((key) => formErrors[name][key].valid === false) : \"\");\r\n\r\n  //Определяем сообщение ошибки\r\n  const errorMessage = !!errorKey ? formErrors[name][errorKey].message : \"\";\r\n\r\n  return (\r\n    <span className={cn(className, { [errorClassName]: showErrors[name] && errorMessage.length })} {...props}>\r\n     {showErrors[name] && errorMessage}\r\n    </span>\r\n  );\r\n}\r\n\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { propsPopupWithEditForm } from \"../utils/constants\";\r\nimport PopupWithForm, { Error, Field } from \"./PopupWithForm\";\r\n\r\nconst validators = {\r\n  name: {\r\n    required: (value) => {\r\n      return {\r\n        valid: !!value,\r\n        message: \"Вы пропустили это поле.\",\r\n      };\r\n    },\r\n    minLength: (value) => {\r\n      return {\r\n        valid: value.length > 2,\r\n        message: `Минимальное количество символов: 2. Длина текста сейчас: ${value.length} символ.`,\r\n      };\r\n    },\r\n  },\r\n  about: {\r\n    required: (value) => {\r\n      return {\r\n        valid: !!value,\r\n        message: \"Вы пропустили это поле.\",\r\n      };\r\n    },\r\n    minLength: (value) => {\r\n      return {\r\n        valid: value.length > 2,\r\n        message: `Минимальное количество символов: 2. Длина текста сейчас: ${value.length} символ.`,\r\n      };\r\n    },\r\n  },\r\n};\r\n\r\nexport default function EditProfilePopup({ isOpen, isLoading, onClose, onUpdateUser }) {\r\n  const handleSubmit = (values) => {\r\n    onUpdateUser(values);\r\n  };\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={propsPopupWithEditForm.title}\r\n      name={propsPopupWithEditForm.name}\r\n      isOpen={isOpen}\r\n      isLoad={isLoading}\r\n      submitStates={propsPopupWithEditForm.submitStates}\r\n      validators={validators}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      defaultValues={currentUser}\r\n    >\r\n      <Field name=\"name\"\r\n             type=\"text\"\r\n             className=\"popup__input popup__input_type_name\"\r\n             errorClassName=\"popup__input_type_error\"\r\n             placeholder=\"Название\"\r\n             maxLength={30}/>\r\n      <Error name=\"name\" className=\"popup__error\" errorClassName=\"popup__error_visible\"/>\r\n      <Field name=\"about\"\r\n             type=\"text\"\r\n             className=\"popup__input popup__input_type_about\"\r\n             errorClassName=\"popup__input_type_error\"\r\n             placeholder=\"Описание профиля\"\r\n             maxLength={200}/>\r\n      <Error name=\"about\" className=\"popup__error\" errorClassName=\"popup__error_visible\"/>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { propsPopupWithEditAvatarForm } from \"../utils/constants\";\r\nimport PopupWithForm, { Error, Field } from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nconst validators = {\r\n  link: {\r\n    required: (value) => {\r\n      return { valid: !!value, message: \"Вы пропустили это поле.\" };\r\n    },\r\n    isUrl: (value) => {\r\n      return { valid: /http(s?):\\/\\/[-\\w.]{3,}\\.[A-Za-z]{2,3}/.test(value), message: \"Введите адрес сайта.\" };\r\n    },\r\n  },\r\n};\r\n\r\nexport default function EditAvatarPopup({ isOpen, isLoading, onClose, onUpdateAvatar }) {\r\n  const handleSubmit = (values) => {\r\n    onUpdateAvatar(values);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={propsPopupWithEditAvatarForm.title}\r\n      name={propsPopupWithEditAvatarForm.name}\r\n      isLoad={isLoading}\r\n      isOpen={isOpen}\r\n      submitStates={propsPopupWithEditAvatarForm.submitStates}\r\n      validators={validators}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      defaultValues={{ link: \"\" }}\r\n    >\r\n      <Field name=\"link\"\r\n             type=\"text\"\r\n             className=\"popup__input popup__input_type_link\"\r\n             errorClassName=\"popup__input_type_error\"\r\n             placeholder=\"Ссылка на картинку\"/>\r\n      <Error name=\"link\" className=\"popup__error\" errorClassName=\"popup__error_visible\"/>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { propsPopupWithAddForm } from \"../utils/constants\";\r\nimport PopupWithForm, { Error, Field } from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nconst validators = {\r\n  name: {\r\n    required: (value) => {\r\n      return { valid: value !== \"\", message: \"Вы пропустили это поле.\" };\r\n    },\r\n    minLength: (value) => {\r\n      return {\r\n        valid: value.length > 2,\r\n        message: `Минимальное количество символов: 2. Длина текста сейчас: ${value.length} символ.`,\r\n      };\r\n    },\r\n  },\r\n  link: {\r\n    required: (value) => {\r\n      return { valid: value !== \"\", message: \"Вы пропустили это поле.\" };\r\n    },\r\n    isUrl: (value) => {\r\n      return { valid: /http(s?):\\/\\/[-\\w.]{3,}\\.[A-Za-z]{2,3}/.test(value), message: \"Введите адрес сайта.\" };\r\n    },\r\n  },\r\n};\r\n\r\nexport default function AddPlacePopup({ isOpen, isLoading, onClose, onAddPlace }) {\r\n  const handleSubmit = (values) => {\r\n    onAddPlace(values);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={propsPopupWithAddForm.title}\r\n      name={propsPopupWithAddForm.name}\r\n      isLoad={isLoading}\r\n      isOpen={isOpen}\r\n      submitStates={propsPopupWithAddForm.submitStates}\r\n      validators={validators}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      defaultValues={\r\n        {\r\n          name: \"\",\r\n          link: \"\",\r\n        }\r\n      }\r\n    >\r\n      <Field name=\"name\"\r\n             type=\"text\"\r\n             className=\"popup__input popup__input_type_name\"\r\n             errorClassName=\"popup__input_type_error\"\r\n             placeholder=\"Название\"\r\n             maxLength={30}/>\r\n      <Error name=\"name\" className=\"popup__error\" errorClassName=\"popup__error_visible\"/>\r\n      <Field name=\"link\"\r\n             type=\"text\"\r\n             className=\"popup__input popup__input_type_link\"\r\n             errorClassName=\"popup__input_type_error\"\r\n             placeholder=\"Ссылка на картинку\"/>\r\n      <Error name=\"link\" className=\"popup__error\" errorClassName=\"popup__error_visible\"/>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { apiSettings } from './constants.js';\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _getProxy(relativePath, method, body = '') {\r\n    const options = {\r\n      method,\r\n      headers: this._headers,\r\n    };\r\n\r\n    if (!!body) {\r\n      options.body = body;\r\n    }\r\n\r\n    return fetch(`${this._baseUrl}${relativePath}`, options);\r\n  }\r\n\r\n  async _handleResponse(response) {\r\n    const description = await response.json();\r\n\r\n    if (response.ok) {\r\n      return description;\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${response.status}\\nОписание: ${description.message}`);\r\n    }\r\n  }\r\n\r\n  async getUserData() {\r\n    const response = await this._getProxy('/users/me', 'GET');\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async setUserData({ name, about }) {\r\n    const response = await this._getProxy('/users/me', 'PATCH', JSON.stringify({ name, about }));\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async setAvatar({ link }) {\r\n    const response = await this._getProxy('/users/me/avatar', 'PATCH', JSON.stringify({ avatar: link }));\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async getCardList() {\r\n    const response = await this._getProxy('/cards', 'GET');\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async addCard({ name, link }) {\r\n    const response = await this._getProxy('/cards', 'POST', JSON.stringify({ name, link }));\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async deleteCard(id) {\r\n    const response = await this._getProxy(`/cards/${id}`, 'DELETE');\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async toggleCardLike(id, like) {\r\n    const response = await this._getProxy(`/cards/likes/${id}`, like ? 'PUT' : 'DELETE');\r\n    return await this._handleResponse(response);\r\n  }\r\n}\r\n\r\nexport const apiObject = new Api(apiSettings);\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport { propsPopupWithConfirmForm } from \"../utils/constants.js\";\r\nimport React from \"react\";\r\n\r\nexport default function Confirm({ isOpen, isLoading, onClose, onSubmit }) {\r\n  const handleSubmit = () => {\r\n    onSubmit();\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={propsPopupWithConfirmForm.title}\r\n      name={propsPopupWithConfirmForm.name}\r\n      submitStates={propsPopupWithConfirmForm.submitStates}\r\n      isOpen={isOpen}\r\n      isLoad={isLoading}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      defaultValues={{}}\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport importedLogo from \"../images/header-logo.svg\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport { apiObject } from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Confirm from \"./Confirm\";\r\n\r\nfunction App() {\r\n  //Создаем стейты\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isConfirmOpen, setIsConfirmOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  //Загружаем данные карточек один раз при сборке\r\n  useEffect(() => {\r\n    // setIsLoading(!isLoading);\r\n    apiObject\r\n      .getCardList()\r\n      .then((data) => {\r\n        setCards(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n      .finally(() => {\r\n        // setIsLoading(!isLoading);\r\n      });\r\n  }, []);\r\n\r\n  //Загружаем данные пользователя\r\n  useEffect(() => {\r\n    // setIsLoading(!isLoading);\r\n    apiObject\r\n      .getUserData()\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        // setIsLoading(!isLoading);\r\n      });\r\n  }, []);\r\n\r\n  //Обработчик нажатия на аватарку\r\n  const handleEditAvatarClick = () => {\r\n    //Открываем попап редактирования аватара\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  //Обработчик нажатия на кнопку редактирования профиля\r\n  const handleEditProfileClick = () => {\r\n    //Открываем попап редактирования профиля\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  //Обработчик нажатия на кнопку добавления новой карточки\r\n  const handleAddPlaceClick = () => {\r\n    //Открываем попап добавления новой карточки\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  //Обработчик нажатия на карточку\r\n  const handleCardClick = (card) => {\r\n    //Открываем попап картинки\r\n    setIsImagePopupOpen(true);\r\n    //Устанавливаем выбранную карточку как текущую, для отображения в попапе\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  //Обработчик закрытия всех попапов\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsConfirmOpen(false);\r\n    setIsImagePopupOpen(false);\r\n  };\r\n\r\n  //Обработчик обновления данных пользователя\r\n  const handleUpdateUser = (data) => {\r\n    //Отправляем новые данные на сервер\r\n    setIsLoading(true);\r\n    apiObject\r\n      .setUserData(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  //Обработчик обновления аватара\r\n  const handleUpdateAvatar = (data) => {\r\n    //Отправляем новые данные\r\n    setIsLoading(true);\r\n    apiObject\r\n      .setAvatar(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  //функция обработчик установки/снятия лайка\r\n  const handleCardLike = (card) => {\r\n    //Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n\r\n    //Отправляем запрос в API и получаем обновленные данные карточки\r\n    apiObject\r\n      .toggleCardLike(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        //формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n        const newCards = cards.map((item) => (item._id === card._id ? newCard : item));\r\n\r\n        //обновляем стейт\r\n        setCards(newCards);\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  //функция обработчик удаления карточки\r\n  const handleCardDelete = () => {\r\n    //Отправляем запрос на удаление карточки\r\n    setIsLoading(true);\r\n    apiObject\r\n      .deleteCard(selectedCard._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((item) => item._id !== selectedCard._id);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  //Обработчик добавления новой карточки\r\n  const handleAddPlace = (card) => {\r\n    //Отправляем запрос на добавление карточки\r\n    setIsLoading(true);\r\n    apiObject\r\n      .addCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  //Обработчик нажатия на кнопку удаления\r\n  const handleClickCardDelete = (card) => {\r\n    //Указываем текущую карточку, чтобы её удалить\r\n    setSelectedCard(card);\r\n    //Закрываем попап\r\n    setIsConfirmOpen(true);\r\n  };\r\n\r\n  const handleClickOnButton = (evt) => {\r\n    if (evt.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\" onKeyDown={handleClickOnButton}>\r\n        <Header logo={importedLogo}/>\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          cards={cards}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleClickCardDelete}\r\n        />\r\n        <Footer/>\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          isLoading={isLoading}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlace}\r\n        />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          isLoading={isLoading}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          isLoading={isLoading}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups}/>\r\n        <Confirm\r\n          isOpen={isConfirmOpen}\r\n          isLoading={isLoading}\r\n          onClose={closeAllPopups}\r\n          onSubmit={handleCardDelete}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}